<!DOCTYPE html>
<html><head>
<title>lkhanweb</title>
<link rel="stylesheet" href="./style.css" type="text/css">
<link rel="shortcut icon" type="image/x-icon" href="/lkhan.png">

<style>
.highlighted-text {
    background-color: yellow;
    cursor: pointer;
}
.tooltip {
    position: absolute;
    background: #333;
    color: white;
    padding: 4px 8px;
    border-radius: 4px;
    display: none;
    z-index: 1000;
}
.highlight-sidebar {
    position: fixed;
    right: 0;
    top: 0;
    width: 250px;
    height: 100%;
    background: white;
    border-left: 1px solid #ccc;
    padding: 10px;
    overflow-y: auto;
    box-shadow: -2px 0 5px rgba(0, 0, 0, 0.1);
}
.highlight-sidebar.collapsed {
    display: none;
}
.toggle-sidebar-btn {
    position: fixed;
    right: 10px;
    bottom: 10px;
    z-index: 999;
    padding: 8px 12px;
    border: none;
    background: #333;
    color: white;
    border-radius: 4px;
    cursor: pointer;
}

/* Mobile-Friendly Adjustments */
@media (max-width: 768px) {
    .highlight-sidebar {
        width: 200px;
    }
}
</style>
	
	
</head>
	<body>
<p>Lorem ipsum odor amet, consectetuer adipiscing elit. Curae pretium curae consequat gravida justo cubilia adipiscing maecenas. Nam integer ridiculus ridiculus curae penatibus magnis ante at ultricies. Vel dui eleifend cursus efficitur morbi eu. Cursus metus arcu lobortis habitasse ac nostra. Pharetra sed interdum tristique mauris elementum. Blandit facilisis accumsan magna; dictumst fames magna quisque pulvinar hac. Finibus vehicula convallis mattis vulputate porttitor semper.

Cubilia quisque ultrices sociosqu ligula lectus conubia, at netus laoreet. Adipiscing velit sit magnis non taciti non hendrerit urna. Penatibus fringilla facilisi fames netus phasellus suspendisse dignissim? Tincidunt parturient porttitor habitant mauris dolor. Porttitor nascetur ridiculus; aliquet magna dapibus hendrerit parturient habitasse tellus. Neque curae mi malesuada, consectetur pulvinar facilisi venenatis tempor. Inceptos faucibus et pellentesque a gravida rhoncus parturient auctor. Ipsum praesent posuere pulvinar proin litora montes at.

Id vestibulum nullam sem duis enim. Torquent per curae dui sodales nunc. Sociosqu dictumst malesuada efficitur ultrices semper ut malesuada. Velit risus lectus turpis egestas facilisis. Nunc iaculis et turpis dui amet metus convallis sagittis. Fringilla massa quam ullamcorper convallis maecenas metus phasellus nibh dapibus. Iaculis ultricies quis libero sociosqu enim cubilia sollicitudin. Vivamus himenaeos commodo ac sollicitudin nullam magnis ligula? Sagittis mi sem nisi torquent feugiat maximus felis nascetur enim.

<p>Cubilia rutrum diam placerat; iaculis ipsum ultrices augue. Nulla at consequat elit, facilisi sapien dolor. Quam non ad blandit etiam faucibus facilisi lorem. Posuere fringilla aliquam in vestibulum volutpat. Quam proin convallis blandit in himenaeos finibus. Hendrerit inceptos aliquam natoque eget morbi mauris mi torquent fermentum. Iaculis ultricies libero porttitor elit maecenas conubia neque. Metus pretium justo netus laoreet curae molestie magna dictum? Dis per sodales aliquet metus auctor eget rutrum sagittis?

Aenean iaculis scelerisque aliquam aenean maecenas. Leo efficitur eros at, egestas ridiculus pellentesque. Parturient ultrices ultricies himenaeos netus nibh morbi vulputate interdum tortor? Tristique viverra dis efficitur vestibulum iaculis quis primis. Enim molestie montes neque consectetur commodo? Taciti vulputate integer diam mi sit malesuada magna placerat. Cursus lacus viverra massa senectus nunc nunc. Euismod dis ligula porta litora mi odio ac praesent.
</p>
<p>Sem pulvinar integer leo tristique dapibus semper pretium. Malesuada laoreet ligula ornare ultricies sed varius semper justo. Velit iaculis ac ultrices consectetur felis pellentesque. Elit sit tincidunt mus turpis nibh commodo sollicitudin. Faucibus magnis lobortis; pharetra molestie integer senectus dui facilisis. Conubia platea tellus mus blandit tortor class. Vestibulum venenatis massa hac mollis vitae venenatis? Semper ex phasellus tellus urna per suscipit maecenas.

Ad torquent pulvinar primis nisl euismod auctor quisque? Velit vitae congue malesuada non donec fames magna. Venenatis porttitor natoque eget nascetur vivamus faucibus. Tristique phasellus praesent quisque et tempor ante penatibus curabitur consequat. Convallis feugiat condimentum dictumst nostra adipiscing lorem dignissim suscipit. Mattis curae tortor habitasse volutpat ullamcorper.

Ridiculus purus magnis torquent neque posuere potenti ac. Odio tortor fames vulputate lacus faucibus diam morbi interdum. Nostra morbi lacinia semper, velit netus cubilia vel. Viverra malesuada suscipit id a accumsan tellus tellus. Platea risus eleifend dui quam sagittis netus, tortor pretium. Lacinia posuere vitae nec sodales; hac eros.
</p>
Quisque tortor scelerisque est; magna in posuere eleifend sociosqu. Ridiculus tellus euismod libero lacinia feugiat. Fringilla inceptos penatibus imperdiet porta tellus dignissim viverra conubia. Commodo conubia nec vestibulum habitant fusce neque aliquet luctus maximus. Ornare laoreet netus duis lacus arcu consequat sodales id. Fames rhoncus facilisi ut quisque class odio nisl. Vestibulum mattis scelerisque augue, finibus aliquam tellus tristique aliquet. Pulvinar dolor integer pretium malesuada luctus, auctor volutpat. Interdum pellentesque est erat eleifend lectus laoreet quam.

Lacinia ipsum congue iaculis varius ligula vel. Habitant tellus convallis vulputate mauris ut luctus. Aptent suspendisse augue purus blandit gravida vitae. Suspendisse pellentesque vel lectus adipiscing ex velit quam vehicula. Tempor odio magnis quam sit; nec consequat consectetur. Ultricies efficitur efficitur quisque proin platea. Sollicitudin rhoncus orci erat parturient euismod. Habitasse fusce hendrerit purus quam ridiculus finibus vel placerat nibh.</p>
</div> 
		<p>Lorem ipsum odor amet, consectetuer adipiscing elit. Curae pretium curae consequat gravida justo cubilia adipiscing maecenas. Nam integer ridiculus ridiculus curae penatibus magnis ante at ultricies. Vel dui eleifend cursus efficitur morbi eu. Cursus metus arcu lobortis habitasse ac nostra. Pharetra sed interdum tristique mauris elementum. Blandit facilisis accumsan magna; dictumst fames magna quisque pulvinar hac. Finibus vehicula convallis mattis vulputate porttitor semper.

Cubilia quisque ultrices sociosqu ligula lectus conubia, at netus laoreet. Adipiscing velit sit magnis non taciti non hendrerit urna. Penatibus fringilla facilisi fames netus phasellus suspendisse dignissim? Tincidunt parturient porttitor habitant mauris dolor. Porttitor nascetur ridiculus; aliquet magna dapibus hendrerit parturient habitasse tellus. Neque curae mi malesuada, consectetur pulvinar facilisi venenatis tempor. Inceptos faucibus et pellentesque a gravida rhoncus parturient auctor. Ipsum praesent posuere pulvinar proin litora montes at.

Id vestibulum nullam sem duis enim. Torquent per curae dui sodales nunc. Sociosqu dictumst malesuada efficitur ultrices semper ut malesuada. Velit risus lectus turpis egestas facilisis. Nunc iaculis et turpis dui amet metus convallis sagittis. Fringilla massa quam ullamcorper convallis maecenas metus phasellus nibh dapibus. Iaculis ultricies quis libero sociosqu enim cubilia sollicitudin. Vivamus himenaeos commodo ac sollicitudin nullam magnis ligula? Sagittis mi sem nisi torquent feugiat maximus felis nascetur enim.

<p>Cubilia rutrum diam placerat; iaculis ipsum ultrices augue. Nulla at consequat elit, facilisi sapien dolor. Quam non ad blandit etiam faucibus facilisi lorem. Posuere fringilla aliquam in vestibulum volutpat. Quam proin convallis blandit in himenaeos finibus. Hendrerit inceptos aliquam natoque eget morbi mauris mi torquent fermentum. Iaculis ultricies libero porttitor elit maecenas conubia neque. Metus pretium justo netus laoreet curae molestie magna dictum? Dis per sodales aliquet metus auctor eget rutrum sagittis?

Aenean iaculis scelerisque aliquam aenean maecenas. Leo efficitur eros at, egestas ridiculus pellentesque. Parturient ultrices ultricies himenaeos netus nibh morbi vulputate interdum tortor? Tristique viverra dis efficitur vestibulum iaculis quis primis. Enim molestie montes neque consectetur commodo? Taciti vulputate integer diam mi sit malesuada magna placerat. Cursus lacus viverra massa senectus nunc nunc. Euismod dis ligula porta litora mi odio ac praesent.
</p>
<p>Sem pulvinar integer leo tristique dapibus semper pretium. Malesuada laoreet ligula ornare ultricies sed varius semper justo. Velit iaculis ac ultrices consectetur felis pellentesque. Elit sit tincidunt mus turpis nibh commodo sollicitudin. Faucibus magnis lobortis; pharetra molestie integer senectus dui facilisis. Conubia platea tellus mus blandit tortor class. Vestibulum venenatis massa hac mollis vitae venenatis? Semper ex phasellus tellus urna per suscipit maecenas.

Ad torquent pulvinar primis nisl euismod auctor quisque? Velit vitae congue malesuada non donec fames magna. Venenatis porttitor natoque eget nascetur vivamus faucibus. Tristique phasellus praesent quisque et tempor ante penatibus curabitur consequat. Convallis feugiat condimentum dictumst nostra adipiscing lorem dignissim suscipit. Mattis curae tortor habitasse volutpat ullamcorper.

Ridiculus purus magnis torquent neque posuere potenti ac. Odio tortor fames vulputate lacus faucibus diam morbi interdum. Nostra morbi lacinia semper, velit netus cubilia vel. Viverra malesuada suscipit id a accumsan tellus tellus. Platea risus eleifend dui quam sagittis netus, tortor pretium. Lacinia posuere vitae nec sodales; hac eros.
</p>
Quisque tortor scelerisque est; magna in posuere eleifend sociosqu. Ridiculus tellus euismod libero lacinia feugiat. Fringilla inceptos penatibus imperdiet porta tellus dignissim viverra conubia. Commodo conubia nec vestibulum habitant fusce neque aliquet luctus maximus. Ornare laoreet netus duis lacus arcu consequat sodales id. Fames rhoncus facilisi ut quisque class odio nisl. Vestibulum mattis scelerisque augue, finibus aliquam tellus tristique aliquet. Pulvinar dolor integer pretium malesuada luctus, auctor volutpat. Interdum pellentesque est erat eleifend lectus laoreet quam.

Lacinia ipsum congue iaculis varius ligula vel. Habitant tellus convallis vulputate mauris ut luctus. Aptent suspendisse augue purus blandit gravida vitae. Suspendisse pellentesque vel lectus adipiscing ex velit quam vehicula. Tempor odio magnis quam sit; nec consequat consectetur. Ultricies efficitur efficitur quisque proin platea. Sollicitudin rhoncus orci erat parturient euismod. Habitasse fusce hendrerit purus quam ridiculus finibus vel placerat nibh.</p>
</div> <p>Lorem ipsum odor amet, consectetuer adipiscing elit. Curae pretium curae consequat gravida justo cubilia adipiscing maecenas. Nam integer ridiculus ridiculus curae penatibus magnis ante at ultricies. Vel dui eleifend cursus efficitur morbi eu. Cursus metus arcu lobortis habitasse ac nostra. Pharetra sed interdum tristique mauris elementum. Blandit facilisis accumsan magna; dictumst fames magna quisque pulvinar hac. Finibus vehicula convallis mattis vulputate porttitor semper.

Cubilia quisque ultrices sociosqu ligula lectus conubia, at netus laoreet. Adipiscing velit sit magnis non taciti non hendrerit urna. Penatibus fringilla facilisi fames netus phasellus suspendisse dignissim? Tincidunt parturient porttitor habitant mauris dolor. Porttitor nascetur ridiculus; aliquet magna dapibus hendrerit parturient habitasse tellus. Neque curae mi malesuada, consectetur pulvinar facilisi venenatis tempor. Inceptos faucibus et pellentesque a gravida rhoncus parturient auctor. Ipsum praesent posuere pulvinar proin litora montes at.

Id vestibulum nullam sem duis enim. Torquent per curae dui sodales nunc. Sociosqu dictumst malesuada efficitur ultrices semper ut malesuada. Velit risus lectus turpis egestas facilisis. Nunc iaculis et turpis dui amet metus convallis sagittis. Fringilla massa quam ullamcorper convallis maecenas metus phasellus nibh dapibus. Iaculis ultricies quis libero sociosqu enim cubilia sollicitudin. Vivamus himenaeos commodo ac sollicitudin nullam magnis ligula? Sagittis mi sem nisi torquent feugiat maximus felis nascetur enim.

<p>Cubilia rutrum diam placerat; iaculis ipsum ultrices augue. Nulla at consequat elit, facilisi sapien dolor. Quam non ad blandit etiam faucibus facilisi lorem. Posuere fringilla aliquam in vestibulum volutpat. Quam proin convallis blandit in himenaeos finibus. Hendrerit inceptos aliquam natoque eget morbi mauris mi torquent fermentum. Iaculis ultricies libero porttitor elit maecenas conubia neque. Metus pretium justo netus laoreet curae molestie magna dictum? Dis per sodales aliquet metus auctor eget rutrum sagittis?

Aenean iaculis scelerisque aliquam aenean maecenas. Leo efficitur eros at, egestas ridiculus pellentesque. Parturient ultrices ultricies himenaeos netus nibh morbi vulputate interdum tortor? Tristique viverra dis efficitur vestibulum iaculis quis primis. Enim molestie montes neque consectetur commodo? Taciti vulputate integer diam mi sit malesuada magna placerat. Cursus lacus viverra massa senectus nunc nunc. Euismod dis ligula porta litora mi odio ac praesent.
</p>
<p>Sem pulvinar integer leo tristique dapibus semper pretium. Malesuada laoreet ligula ornare ultricies sed varius semper justo. Velit iaculis ac ultrices consectetur felis pellentesque. Elit sit tincidunt mus turpis nibh commodo sollicitudin. Faucibus magnis lobortis; pharetra molestie integer senectus dui facilisis. Conubia platea tellus mus blandit tortor class. Vestibulum venenatis massa hac mollis vitae venenatis? Semper ex phasellus tellus urna per suscipit maecenas.

Ad torquent pulvinar primis nisl euismod auctor quisque? Velit vitae congue malesuada non donec fames magna. Venenatis porttitor natoque eget nascetur vivamus faucibus. Tristique phasellus praesent quisque et tempor ante penatibus curabitur consequat. Convallis feugiat condimentum dictumst nostra adipiscing lorem dignissim suscipit. Mattis curae tortor habitasse volutpat ullamcorper.

Ridiculus purus magnis torquent neque posuere potenti ac. Odio tortor fames vulputate lacus faucibus diam morbi interdum. Nostra morbi lacinia semper, velit netus cubilia vel. Viverra malesuada suscipit id a accumsan tellus tellus. Platea risus eleifend dui quam sagittis netus, tortor pretium. Lacinia posuere vitae nec sodales; hac eros.
</p>
Quisque tortor scelerisque est; magna in posuere eleifend sociosqu. Ridiculus tellus euismod libero lacinia feugiat. Fringilla inceptos penatibus imperdiet porta tellus dignissim viverra conubia. Commodo conubia nec vestibulum habitant fusce neque aliquet luctus maximus. Ornare laoreet netus duis lacus arcu consequat sodales id. Fames rhoncus facilisi ut quisque class odio nisl. Vestibulum mattis scelerisque augue, finibus aliquam tellus tristique aliquet. Pulvinar dolor integer pretium malesuada luctus, auctor volutpat. Interdum pellentesque est erat eleifend lectus laoreet quam.

Lacinia ipsum congue iaculis varius ligula vel. Habitant tellus convallis vulputate mauris ut luctus. Aptent suspendisse augue purus blandit gravida vitae. Suspendisse pellentesque vel lectus adipiscing ex velit quam vehicula. Tempor odio magnis quam sit; nec consequat consectetur. Ultricies efficitur efficitur quisque proin platea. Sollicitudin rhoncus orci erat parturient euismod. Habitasse fusce hendrerit purus quam ridiculus finibus vel placerat nibh.</p>
</div> <p>Lorem ipsum odor amet, consectetuer adipiscing elit. Curae pretium curae consequat gravida justo cubilia adipiscing maecenas. Nam integer ridiculus ridiculus curae penatibus magnis ante at ultricies. Vel dui eleifend cursus efficitur morbi eu. Cursus metus arcu lobortis habitasse ac nostra. Pharetra sed interdum tristique mauris elementum. Blandit facilisis accumsan magna; dictumst fames magna quisque pulvinar hac. Finibus vehicula convallis mattis vulputate porttitor semper.

Cubilia quisque ultrices sociosqu ligula lectus conubia, at netus laoreet. Adipiscing velit sit magnis non taciti non hendrerit urna. Penatibus fringilla facilisi fames netus phasellus suspendisse dignissim? Tincidunt parturient porttitor habitant mauris dolor. Porttitor nascetur ridiculus; aliquet magna dapibus hendrerit parturient habitasse tellus. Neque curae mi malesuada, consectetur pulvinar facilisi venenatis tempor. Inceptos faucibus et pellentesque a gravida rhoncus parturient auctor. Ipsum praesent posuere pulvinar proin litora montes at.

Id vestibulum nullam sem duis enim. Torquent per curae dui sodales nunc. Sociosqu dictumst malesuada efficitur ultrices semper ut malesuada. Velit risus lectus turpis egestas facilisis. Nunc iaculis et turpis dui amet metus convallis sagittis. Fringilla massa quam ullamcorper convallis maecenas metus phasellus nibh dapibus. Iaculis ultricies quis libero sociosqu enim cubilia sollicitudin. Vivamus himenaeos commodo ac sollicitudin nullam magnis ligula? Sagittis mi sem nisi torquent feugiat maximus felis nascetur enim.

<p>Cubilia rutrum diam placerat; iaculis ipsum ultrices augue. Nulla at consequat elit, facilisi sapien dolor. Quam non ad blandit etiam faucibus facilisi lorem. Posuere fringilla aliquam in vestibulum volutpat. Quam proin convallis blandit in himenaeos finibus. Hendrerit inceptos aliquam natoque eget morbi mauris mi torquent fermentum. Iaculis ultricies libero porttitor elit maecenas conubia neque. Metus pretium justo netus laoreet curae molestie magna dictum? Dis per sodales aliquet metus auctor eget rutrum sagittis?

Aenean iaculis scelerisque aliquam aenean maecenas. Leo efficitur eros at, egestas ridiculus pellentesque. Parturient ultrices ultricies himenaeos netus nibh morbi vulputate interdum tortor? Tristique viverra dis efficitur vestibulum iaculis quis primis. Enim molestie montes neque consectetur commodo? Taciti vulputate integer diam mi sit malesuada magna placerat. Cursus lacus viverra massa senectus nunc nunc. Euismod dis ligula porta litora mi odio ac praesent.
</p>
<p>Sem pulvinar integer leo tristique dapibus semper pretium. Malesuada laoreet ligula ornare ultricies sed varius semper justo. Velit iaculis ac ultrices consectetur felis pellentesque. Elit sit tincidunt mus turpis nibh commodo sollicitudin. Faucibus magnis lobortis; pharetra molestie integer senectus dui facilisis. Conubia platea tellus mus blandit tortor class. Vestibulum venenatis massa hac mollis vitae venenatis? Semper ex phasellus tellus urna per suscipit maecenas.

Ad torquent pulvinar primis nisl euismod auctor quisque? Velit vitae congue malesuada non donec fames magna. Venenatis porttitor natoque eget nascetur vivamus faucibus. Tristique phasellus praesent quisque et tempor ante penatibus curabitur consequat. Convallis feugiat condimentum dictumst nostra adipiscing lorem dignissim suscipit. Mattis curae tortor habitasse volutpat ullamcorper.

Ridiculus purus magnis torquent neque posuere potenti ac. Odio tortor fames vulputate lacus faucibus diam morbi interdum. Nostra morbi lacinia semper, velit netus cubilia vel. Viverra malesuada suscipit id a accumsan tellus tellus. Platea risus eleifend dui quam sagittis netus, tortor pretium. Lacinia posuere vitae nec sodales; hac eros.
</p>
Quisque tortor scelerisque est; magna in posuere eleifend sociosqu. Ridiculus tellus euismod libero lacinia feugiat. Fringilla inceptos penatibus imperdiet porta tellus dignissim viverra conubia. Commodo conubia nec vestibulum habitant fusce neque aliquet luctus maximus. Ornare laoreet netus duis lacus arcu consequat sodales id. Fames rhoncus facilisi ut quisque class odio nisl. Vestibulum mattis scelerisque augue, finibus aliquam tellus tristique aliquet. Pulvinar dolor integer pretium malesuada luctus, auctor volutpat. Interdum pellentesque est erat eleifend lectus laoreet quam.

Lacinia ipsum congue iaculis varius ligula vel. Habitant tellus convallis vulputate mauris ut luctus. Aptent suspendisse augue purus blandit gravida vitae. Suspendisse pellentesque vel lectus adipiscing ex velit quam vehicula. Tempor odio magnis quam sit; nec consequat consectetur. Ultricies efficitur efficitur quisque proin platea. Sollicitudin rhoncus orci erat parturient euismod. Habitasse fusce hendrerit purus quam ridiculus finibus vel placerat nibh.</p>
</div> 
		
		
		
		
		
<script>
document.addEventListener("DOMContentLoaded", function () {
    let tooltip = createTooltip();
    let sidebar = createSidebar();
    let toggleButton = createToggleButton();

    document.addEventListener("mouseup", handleSelection);
    document.addEventListener("touchend", handleSelection);

    document.addEventListener("click", function (event) {
        if (event.target.classList.contains("highlighted-text")) {
            showTooltip(event.target, event.pageX, event.pageY);
        } else {
            tooltip.style.display = "none";
        }
    });

    function handleSelection() {
        let selection = window.getSelection();
        if (selection.toString().trim() !== "") {
            highlightSelection();
        }
    }

    function highlightSelection() {
        let selection = window.getSelection();
        if (!selection.rangeCount) return;

        let range = selection.getRangeAt(0);
        let selectedText = selection.toString();
        let id = Date.now();

        let span = document.createElement("span");
        span.classList.add("highlighted-text");
        span.dataset.id = id;
        span.textContent = selectedText;

        const container = range.startContainer;
        const parent = container.parentElement || container;

        const parentSelector = getUniqueSelector(parent);
        if (!parentSelector) return;

        // Replace selected text with span
        range.deleteContents();
        range.insertNode(span);

        span.dataset.selector = parentSelector;

        saveHighlights();
        updateSidebar();
    }

    function createTooltip() {
        let tooltip = document.createElement("div");
        tooltip.innerHTML = "Remove highlight";
        tooltip.classList.add("tooltip");
        document.body.appendChild(tooltip);

        tooltip.addEventListener("click", function () {
            if (tooltip.targetElement) {
                removeHighlight(tooltip.targetElement);
            }
            tooltip.style.display = "none";
        });

        return tooltip;
    }

    function showTooltip(element, x, y) {
        tooltip.style.left = `${x + 10}px`;
        tooltip.style.top = `${y + 10}px`;
        tooltip.style.display = "block";
        tooltip.targetElement = element;
    }

    function removeHighlight(element) {
        if (!element) return;
        let textNode = document.createTextNode(element.textContent);
        element.replaceWith(textNode);
        saveHighlights();
        updateSidebar();
    }

    function saveHighlights() {
        const highlights = document.querySelectorAll(".highlighted-text");
        const data = [];

        highlights.forEach((el) => {
            data.push({
                id: el.dataset.id,
                text: el.textContent,
                selector: el.dataset.selector || getUniqueSelector(el.parentElement),
            });
        });

        localStorage.setItem("highlights", JSON.stringify(data));
    }

    function loadHighlights() {
        const highlights = JSON.parse(localStorage.getItem("highlights")) || [];
        highlights.forEach(({ id, text, selector }) => {
            const parent = document.querySelector(selector);
            if (!parent) return;

            const walker = document.createTreeWalker(parent, NodeFilter.SHOW_TEXT);
            while (walker.nextNode()) {
                let node = walker.currentNode;
                let index = node.nodeValue.indexOf(text);
                if (index !== -1) {
                    const range = document.createRange();
                    range.setStart(node, index);
                    range.setEnd(node, index + text.length);

                    let span = document.createElement("span");
                    span.classList.add("highlighted-text");
                    span.dataset.id = id;
                    span.dataset.selector = selector;
                    span.textContent = text;

                    range.deleteContents();
                    range.insertNode(span);
                    break;
                }
            }
        });

        updateSidebar();
    }

    function getUniqueSelector(el) {
        if (el.id) return `#${el.id}`;
        if (el === document.body) return "body";

        let path = [];
        while (el && el.nodeType === 1 && el !== document.body) {
            let name = el.nodeName.toLowerCase();
            let parent = el.parentNode;
            if (!parent) break;
            let siblings = Array.from(parent.children).filter(n => n.nodeName.toLowerCase() === name);
            let index = siblings.indexOf(el) + 1;
            path.unshift(`${name}:nth-of-type(${index})`);
            el = parent;
        }
        return path.length ? `body > ${path.join(" > ")}` : null;
    }

    function createSidebar() {
        let sidebar = document.createElement("div");
        sidebar.classList.add("highlight-sidebar", "collapsed");
        sidebar.innerHTML = `
            <div class="sidebar-header">
                <h3>Highlights</h3>
                <button id="clear-highlights">üóë Clear All</button>
                <button id="close-sidebar">‚ùå</button>
            </div>
            <ul id="highlight-list"></ul>
        `;
        document.body.appendChild(sidebar);

        document.getElementById("clear-highlights").addEventListener("click", () => {
            localStorage.removeItem("highlights");
            document.querySelectorAll(".highlighted-text").forEach((el) =>
                el.replaceWith(document.createTextNode(el.textContent))
            );
            updateSidebar();
        });

        document.getElementById("close-sidebar").addEventListener("click", () =>
            sidebar.classList.add("collapsed")
        );

        return sidebar;
    }

    function createToggleButton() {
        let button = document.createElement("button");
        button.innerHTML = "üìÇ Highlights";
        button.classList.add("toggle-sidebar-btn");
        document.body.appendChild(button);

        button.addEventListener("click", (event) => {
            sidebar.classList.toggle("collapsed");
            event.preventDefault();
        });

        return button;
    }

    function updateSidebar() {
        let highlightList = document.getElementById("highlight-list");
        highlightList.innerHTML = "";

        const highlights = JSON.parse(localStorage.getItem("highlights")) || [];

        highlights.forEach(({ id, text }) => {
            let listItem = document.createElement("li");
            listItem.textContent = text;
            listItem.dataset.id = id;

            let removeButton = document.createElement("button");
            removeButton.innerHTML = "‚ùå";
            removeButton.classList.add("remove-highlight-btn");

            removeButton.addEventListener("click", function () {
                let highlightElement = document.querySelector(`[data-id="${id}"]`);
                if (highlightElement) {
                    highlightElement.replaceWith(document.createTextNode(highlightElement.textContent));
                }
                saveHighlights();
                updateSidebar();
            });

            listItem.addEventListener("click", function () {
                let el = document.querySelector(`[data-id="${id}"]`);
                if (el) {
                    window.scrollTo({ top: el.getBoundingClientRect().top + window.scrollY - 50, behavior: "smooth" });
                    sidebar.classList.add("collapsed");
                }
            });

            listItem.appendChild(removeButton);
            highlightList.appendChild(listItem);
        });
    }

    loadHighlights();
});
</script>

</script>



	</script>
		<script src="https://kit.fontawesome.com/2bb5e72017.js" crossorigin="anonymous"></script>	

</body>
</html>
